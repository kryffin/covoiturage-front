<h1 class="title">Liste des trajets</h1>

<table mat-table [dataSource]="rides">

  <ng-container matColumnDef="position">
    <th mat-header-cell *matHeaderCellDef> No. </th>
    <td mat-cell *matCellDef="let ride"> {{rides.indexOf(ride)+1}} </td>
  </ng-container>

  <ng-container matColumnDef="depart">
    <th mat-header-cell *matHeaderCellDef> Départ </th>
    <td mat-cell *matCellDef="let ride"> {{ride.start.city}} </td>
  </ng-container>

  <ng-container matColumnDef="arrivee">
    <th mat-header-cell *matHeaderCellDef> Arrivée </th>
    <td mat-cell *matCellDef="let ride"> {{ride.finish.city}} </td>
  </ng-container>

  <ng-container matColumnDef="duree">
    <th mat-header-cell *matHeaderCellDef> Durée </th>
    <td mat-cell *matCellDef="let ride"> {{ride.duration}} </td>
  </ng-container>

  <ng-container matColumnDef="prix">
    <th mat-header-cell *matHeaderCellDef> Prix </th>
    <td mat-cell *matCellDef="let ride"> {{ride.price}} € </td>
  </ng-container>

  <ng-container matColumnDef="date">
    <th mat-header-cell *matHeaderCellDef> Date </th>
    <td mat-cell *matCellDef="let ride"> {{ride.date}} </td>
  </ng-container>

  <ng-container matColumnDef="details">
    <th mat-header-cell *matHeaderCellDef></th>
    <td class="cell-right" mat-cell *matCellDef="let ride"> <button mat-icon-button [routerLink]="['/ride', ride.id]"><mat-icon>info</mat-icon></button> </td>
  </ng-container>

  <ng-container matColumnDef="modifier">
    <th mat-header-cell *matHeaderCellDef></th>
    <td class="cell-right" mat-cell *matCellDef="let ride"> <button mat-icon-button [routerLink]="['/editdrive', ride.id]"><mat-icon>edit</mat-icon></button> </td>
  </ng-container>

  <ng-container matColumnDef="supprimer">
    <th mat-header-cell *matHeaderCellDef></th>
    <td class="cell-right" mat-cell *matCellDef="let ride"> <button mat-icon-button (click)="delete(ride)"><mat-icon>delete</mat-icon></button> </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>

<div class="add-button">
  <button mat-stroked-button color="primary" (click)="openDialog()"> Ajouter un trajet </button>
</div>
